# Подготовка облачной инфраструктуры  

1. Подготовьте сценарий автоматизации развёртывания облачной инфраструктуры.

&ensp; &ensp; 1. Виртуальные машины и сети должны быть созданы согласно Топологии.  
&ensp; &ensp; 2. Имена виртуальных машин и сетей должны соответствовать Топологии.  
&ensp; &ensp; 3. Обеспечьте подключение виртуальных машин к соответствующим сетям.  
&ensp; &ensp; 4. В случае предоставления внешнего доступа к созданным виртуальным машинам, он должен быть разрешён только по протоколу ssh.  
&ensp; &ensp; 5. Разрешите трафик по протоколу ICMP.  
&ensp; &ensp; 6. Вы можете назначить глобальные IP адреса для управления созданными виртуальными машинами.  
&ensp; &ensp; 7. Используйте аутентификацию на основе открытых ключей, аутентификация с использованием пароля должна быть отключена для SSH.  
&ensp; &ensp; 8. Создайте балансировщик нагрузки.  
&ensp; &ensp; &ensp; 1. Сохраните внешний адрес балансировщика нагрузки в файле /home/altlinux/lb.ip.  
&ensp; &ensp; &ensp; 2. Ограничьте внешний доступ протоколами http и https.  
&ensp; &ensp; &ensp; 3. Балансировка нагрузки должна использовать алгоритм round robin.  
&ensp; &ensp; &ensp; 4. При обращении на внешний адрес балансировщика нагрузки должен выводиться ответ от приложения на внутреннем сервере.  

2. Виртуальные машины должны соответствовать следующим характеристикам.  

&ensp; &ensp; 1. Операционная система: ALT Linux 10.  
&ensp; &ensp; 2. Количество vCPU: 1.  
&ensp; &ensp; 3. Объём оперативной памяти: 1024 МБ.  
&ensp; &ensp; 4. Объём диска: 15 ГБ.  
&ensp; &ensp; 5. Тип диска: HDD.  
&ensp; &ensp; 6. Разместите виртуальные машины в регионе Москва.  
&ensp; &ensp; 7. Разместите Web1 в зоне доступности ru-central1-a.  
&ensp; &ensp; 8. Разместите Web2 в зоне доступности ru-central1-b.  

3. На машине ControlVM создайте скрипт cloudinit.sh.  

&ensp; &ensp; 1. В качестве рабочей директории используйте путь /home/altlinux/bin.  
&ensp; &ensp; 2. Используйте файл /home/altlinux/bin/cloud.conf для указания настроек для подключения к облачному провайдеру.  
&ensp; &ensp; &ensp; 1. При выполнении проверки, эксперты могут изменить настройки только в файле cloud.conf. Другие файлы редактироваться не будут.  
&ensp; &ensp; &ensp; 2. Вы можете оставить любые понятные комментарии в файле cloud.conf.  
&ensp; &ensp; 3. Скрипт должен выполняться из любой директории без явного указания пути к исполняемому файлу.  
&ensp; &ensp; 4. Выполнение задания ожидается с использованием инструментов Terraform и/или OpenStack CLI. Однако, вы вправе выбрать другие инструменты, не противоречащие условиям задания и правилам соревнования.  

